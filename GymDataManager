import java.io.*;
import java.nio.file.*;
import java.util.*;

/**
 * Loads and stores members/trainers/admins/plans/sessions in memory.
 * Basic progress version for Part 1.
 */
public class GymDataManager {
    private Map<String, Member> membersByUsername = new HashMap<>();
    private Map<String, Trainer> trainersByUsername = new HashMap<>();
    private Map<String, Administrator> adminsByUsername = new HashMap<>();
    private Map<String, Session> sessionsById = new HashMap<>();
    private Map<String, Plan> plansByName = new HashMap<>();

    public GymDataManager(Path usersCsv, Path sessionsCsv, Path plansCsv) { }

    public Member getMemberByUsername(String username) { return membersByUsername.get(username); }
    public void addMember(Member m) { membersByUsername.put(m.getUsername(), m); }
    public boolean updateMember(String username, Member updated) { membersByUsername.put(username, updated); return true; }
    public boolean deleteMember(String username) { return membersByUsername.remove(username) != null; }
    public boolean usernameExists(String username) {
        return membersByUsername.containsKey(username)
            || trainersByUsername.containsKey(username)
            || adminsByUsername.containsKey(username);
    }
}
